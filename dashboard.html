<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://unpkg.com https://plausible.io https://accounts.google.com; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://fonts.googleapis.com; img-src 'self' data: https:; font-src 'self' https://cdnjs.cloudflare.com https://fonts.gstatic.com; connect-src 'self' https://api.coingecko.com https://api.coinmarketcap.com https://polygon-rpc.com https://rpc-mainnet.matic.network https://etherscan.io https://api.etherscan.io https://api.polygonscan.com https://polygonscan.com https://api.dexscreener.com https://dexscreener.com https://api.github.com https://github.com https://api.telegram.org https://telegram.org https://discord.com https://discordapp.com https://api.discord.com https://cdn.discordapp.com https://plausible.io; frame-src 'self' https://www.youtube.com https://youtube.com https://player.vimeo.com https://vimeo.com;">
  <title>Aetheron Platform</title>
  <link rel="canonical" href="https://aetheron.online/dashboard.html">
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <script defer data-domain="aetheron.online" src="https://plausible.io/js/plausible.js"></script>
  <script src="dashboard-init.js" defer></script>
  <style>
    /* --- UI/UX Polish Additions --- */
    html {
      scroll-behavior: smooth;
    }

    .card {
      box-shadow: 0 4px 24px rgba(0, 212, 255, 0.07), 0 1.5px 8px rgba(26, 26, 46, 0.13);
      border-radius: 18px;
      border: 1px solid rgba(0, 212, 255, 0.08);
      margin-bottom: 28px;
      padding: 28px 22px 22px 22px;
      background: var(--card-bg);
      transition: box-shadow 0.2s, border 0.2s;
    }

    .card:hover,
    .card:focus-within {
      box-shadow: 0 8px 32px rgba(0, 212, 255, 0.13), 0 2px 12px rgba(26, 26, 46, 0.18);
      border: 1.5px solid var(--primary);
    }

    .card-title {
      font-size: 1.35em;
      color: var(--primary);
      margin-bottom: 18px;
      letter-spacing: 0.01em;
    }

    .mb-2 {
      margin-bottom: 22px;
    }

    .btn,
    .btn-outline {
      padding: 10px 22px;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.2s, color 0.2s, border 0.2s, box-shadow 0.2s;
      outline: none;
      box-shadow: 0 1px 4px rgba(0, 212, 255, 0.07);
    }

    .btn {
      background: linear-gradient(135deg, #00d4ff 0%, #8a2be2 100%);
      color: #fff;
      border: none;
      position: relative;
    }

    .btn:hover,
    .btn:focus {
      background: linear-gradient(135deg, #ff6b35 0%, #00d4ff 100%);
      color: #fff;
      box-shadow: 0 2px 12px rgba(0, 212, 255, 0.18);
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }

    .btn-outline {
      background: transparent;
      border: 1.5px solid var(--primary);
      color: var(--primary);
    }

    .btn-outline:hover,
    .btn-outline:focus {
      background: var(--primary);
      color: #fff;
      box-shadow: 0 2px 12px rgba(0, 212, 255, 0.18);
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }

    /* Responsive card grid */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }

    /* Input focus state for accessibility */
    input:focus,
    select:focus,
    textarea:focus {
      outline: 2px solid var(--primary);
      outline-offset: 2px;
      box-shadow: 0 0 0 2px rgba(0, 212, 255, 0.13);
      background: rgba(0, 212, 255, 0.03);
    }

    /* Mobile bottom nav polish */
    .mobile-bottom-nav {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--card-bg);
      box-shadow: 0 -2px 16px rgba(0, 212, 255, 0.13);
      border-radius: 18px 18px 0 0;
      display: flex;
      justify-content: space-around;
      align-items: center;
      padding: 8px 0 4px 0;
      z-index: 1000;
    }

    .mobile-bottom-nav a {
      color: var(--primary);
      text-align: center;
      flex: 1;
      padding: 6px 0;
      border-radius: 10px;
      transition: background 0.2s, color 0.2s;
    }

    .mobile-bottom-nav a:focus,
    .mobile-bottom-nav a:hover {
      background: rgba(0, 212, 255, 0.08);
      color: #fff;
      outline: 2px solid var(--primary);
      outline-offset: 2px;
    }

    /* Spinner consistency */
    .spinner svg,
    .loading-spinner svg {
      width: 36px !important;
      height: 36px !important;
      stroke: var(--primary);
    }

    /* Profile modal close button */
    .modal .close-modal-btn {
      position: absolute;
      top: 12px;
      right: 18px;
      background: transparent;
      border: none;
      font-size: 1.5em;
      color: var(--primary);
      cursor: pointer;
      z-index: 10;
      transition: color 0.2s;
    }

    .modal .close-modal-btn:hover,
    .modal .close-modal-btn:focus {
      color: #ef4444;
      outline: 2px solid #ef4444;
    }

    /* Section heading spacing */
    .card h2,
    .card-title {
      margin-top: 0;
      margin-bottom: 18px;
      font-weight: 600;
      letter-spacing: 0.01em;
    }

    /* Animate theme toggle icon */
    .theme-toggle-btn {
      transition: background 0.2s, color 0.2s, transform 0.3s;
    }

    .theme-toggle-btn:active {
      transform: rotate(180deg) scale(1.1);
    }

    .help-icon {
      font-size: 1em;
      color: var(--primary);
      margin-left: 4px;
      cursor: pointer;
      border-radius: 50%;
      background: rgba(0, 212, 255, 0.07);
      padding: 0 6px;
      transition: background 0.2s;
      outline: none;
    }

    .help-icon:focus,
    .help-icon:hover {
      background: rgba(0, 212, 255, 0.18);
      color: #fff;
    }

    .info-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
      gap: 8px;
    }

    .info-label {
      font-weight: 500;
      color: var(--primary);
      min-width: 120px;
    }

    .info-value {
      font-family: 'Inter', monospace;
      font-size: 1.08em;
      color: var(--text);
      word-break: break-all;
    }

    .font-08 {
      font-size: 0.98em;
    }

    .text-gray {
      color: #b0b8c1;
    }

    .center-spinner {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .loading-spinner svg,
    .spinner svg {
      display: block;
      margin: 0 auto;
    }

    .modal-bg {
      background: rgba(10, 10, 20, 0.75);
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 10001;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal {
      background: var(--card-bg);
      border-radius: 14px;
      padding: 32px 28px 22px 28px;
      box-shadow: 0 8px 32px rgba(0, 212, 255, 0.13);
      min-width: 320px;
      max-width: 95vw;
    }

    .modal-actions {
      display: flex;
      gap: 12px;
      margin-top: 18px;
      justify-content: flex-end;
    }

    /* --- End UI/UX Polish Additions --- */
    /* Accessibility: Focus outline for keyboard navigation */
    * {
      .header h1 {
        color: #00d4ff;
        font-size: 2.5em;
        margin-bottom: 10px;
      }

      .logo {
        background: linear-gradient(135deg, var(--primary), var(--accent));
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .header p {
        color: #fff;
        font-size: 1.1em;
      }

      .wallet-section {
        background: rgba(26, 26, 46, .9);
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(0, 212, 255, .2);
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 0 30px rgba(0, 212, 255, .1);
        margin-bottom: 30px;
      }

      /* Nebula orange */
      --success: #10b981;
      --danger: #ef4444;
      --warning: #f59e0b;
      --dark: #0a0a0a;
      /* Deep space black */
      --light: #1a1a2e;
      /* Dark blue-gray */
      --text: #ffffff;
      --card-bg: rgba(26, 26, 46, 0.8);
      --bg-gradient-start: #0a0a0a;
      --bg-gradient-mid: #1a1a2e;
      --bg-gradient-end: #16213e;
    }

    [data-theme="light"] {
      --primary: #0099cc;
      --secondary: #6b21a8;
      --accent: #ea580c;
      --success: #059669;
      --danger: #dc2626;
      --warning: #d97706;
      --dark: #f8fafc;
      --light: #e2e8f0;
      --text: #1e293b;
      --card-bg: rgba(255, 255, 255, 0.9);
      --bg-gradient-start: #f1f5f9;
      --bg-gradient-mid: #e2e8f0;
      --bg-gradient-end: #cbd5e1;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: radial-gradient(ellipse at center, var(--bg-gradient-start) 0%, var(--bg-gradient-mid) 50%, var(--bg-gradient-end) 100%);
      color: var(--text);
      min-height: 100vh;
      transition: background 0.3s, color 0.3s;
      color: var(--text);
      overflow-x: hidden;
      position: relative;
    }

    /* Animated starfield background */
    #starfield-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 0;
      opacity: 1;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: radial-gradient(2px 2px at 20px 30px, #eee, transparent), radial-gradient(2px 2px at 40px 70px, #fff, transparent), radial-gradient(1px 1px at 90px 40px, #eee, transparent), radial-gradient(1px 1px at 130px 80px, #fff, transparent), radial-gradient(2px 2px at 160px 30px, #ddd, transparent);
      background-repeat: repeat;
      background-size: 200px 100px;
      animation: twinkle 4s ease-in-out infinite alternate;
      z-index: -1;
    }

    @keyframes twinkle {
      0% {
        filter: brightness(0.3);
      }

      100% {
        filter: brightness(0.8);
      }
    }

    @keyframes twinkle {
      0% {
        filter: brightness(0.3);
      }

      100% {
        filter: brightness(0.8);
      }
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .theme-toggle-btn {
      float: right;
      margin-top: -40px;
      margin-right: 10px;
      background: var(--card-bg);
      color: var(--primary);
      border: 1px solid var(--border-main);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 1.3em;
      cursor: pointer;
      box-shadow: var(--shadow-main);
      transition: background 0.2s, color 0.2s;
    }

    .theme-toggle-btn:hover {
      background: var(--primary);
      color: #fff;
    }

    .header {
      background: rgba(26, 26, 46, .9);
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(0, 212, 255, .3);
      padding: 30px;
      border-radius: 20px;
      margin-bottom: 30px;
      box-shadow: 0 0 40px rgba(0, 212, 255, .1);
    }

    .header h1 {
      color: #00d4ff;
      font-size: 2.5em;
      margin-bottom: 10px;
    }

    .logo {
      background: linear-gradient(135deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .header p {
      color: #fff;
      font-size: 1.1em;
    }

    .wallet-section {
      background: rgba(26, 26, 46, .9);
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(0, 212, 255, .2);
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 0 30px rgba(0, 212, 255, .1);
      margin-bottom: 30px;
    }



    .card h2 {
      color: #00d4ff;
      margin-bottom: 20px;
      font-size: 1.5em;
    }

    .input-group {
      margin: 15px 0;
    }

    .input-group label {
      display: block;
      margin-bottom: 8px;
      color: #666;
      font-weight: 500;
    }

    .input-group input {
      width: 100%;
      padding: 12px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 1em;
    }

    .action-btn {
      background: linear-gradient(135deg, #00d4ff 0%, #8a2be2 100%);
      color: #fff;
      border: none;
      padding: 14px 32px;
      border-radius: 10px;
      cursor: pointer;
      margin-top: 15px;
      width: 100%;
      font-size: 1.08em;
      box-shadow: 0 2px 8px rgba(0, 212, 255, 0.10);
      transition: background .3s, box-shadow .3s;
    }

    .action-btn:hover {
      background: linear-gradient(135deg, #ff6b35 0%, #00d4ff 100%);
      box-shadow: 0 6px 18px rgba(255, 107, 53, 0.13);
    }

    .status-message {
      margin-top: 15px;
      padding: 12px;
      border-radius: 8px;
      display: none;
    }

    .status-message.success {
      background: rgba(16, 185, 129, .2);
      color: #10b981;
      border: 1px solid #10b981;
      display: block;
    }

    .status-message.error {
      background: rgba(239, 68, 68, .2);
      color: #ef4444;
      border: 1px solid #ef4444;
      display: block;
    }

    .pools-list {
      margin-top: 20px;
    }

    .header h1 {
      color: #00d4ff;
      font-size: 2.5em;
      margin-bottom: 10px;
    }

    .logo {
      background: linear-gradient(135deg, var(--primary), var(--accent));
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .header p {
      color: #fff;
      font-size: 1.1em;
    }

    .wallet-section {
      background: rgba(26, 26, 46, .9);
      -webkit-backdrop-filter: blur(10px);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(0, 212, 255, .2);
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 0 30px rgba(0, 212, 255, .1);
      margin-bottom: 30px;
    }

    /* Toast Container Styles moved from inline */
    #toastContainer.toast-container {
      position: fixed;
      top: 24px;
      right: 24px;
      z-index: 9999;
      pointer-events: none;
    }

    /* Skip link styles moved from inline */
    .skip-link {
      position: absolute;
      left: -999px;
      top: auto;
      width: 1px;
      height: 1px;
      overflow: hidden;
      background: #00d4ff;
      color: #fff;
      padding: 8px 16px;
      z-index: 10000;
      transition: left 0.2s;
    }

    /* Quick Stats Card margin-bottom moved from inline */
    #quickStatsCard {
      margin-bottom: 24px;
    }
  </style>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet"
    crossorigin="anonymous" referrerpolicy="no-referrer">
  <link rel="stylesheet" href="shared-mobile-polish.css?v=1.3.1">
  <link rel="stylesheet" href="mobile-optimization.css?v=1.3.1">
  <link rel="stylesheet" href="dashboard-enhanced.css?v=1.3.1">

  <head>
    ...existing code...
    <link rel="stylesheet" href="dashboard.css">
    <style>
      body {
        margin: 0;
        min-height: 100vh;
        background: #16161a;
        overflow-x: hidden;
      }

      #starfield {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        pointer-events: none;
        z-index: 0;
      }
    </style>
    ...existing code...
  </head>
  <div id="criticalAlerts" class="critical-alerts"></div>
  <!-- Hamburger menu for mobile navigation -->
  <button class="hamburger" id="hamburger" aria-label="Toggle navigation menu" aria-expanded="false"
    type="button"><span></span> <span></span> <span></span></button>
  <!-- Mobile navigation overlay -->
  <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
  <script>
    // Show skip link on focus for accessibility
    document.addEventListener('DOMContentLoaded', function () {
      var skipLink = document.querySelector('.skip-link');
      skipLink.addEventListener('focus', function () {
        skipLink.style.left = '16px';
      });
      skipLink.addEventListener('blur', function () {
        skipLink.style.left = '-999px';
      });
    });
  </script>
  <canvas id="starfield-canvas"></canvas>
  <!-- Toast Notification Container -->
  <div id="toastContainer" aria-live="polite" aria-atomic="true" class="toast-container"></div>
  <div class="container">
    <!-- Home Screen Welcome/Overview -->
    <div class="card home-welcome-card prominent-welcome" aria-label="Welcome to Aetheron Platform">
      <h2 class="logo" tabindex="0">üåå Welcome to Aetheron Platform</h2>
      <p class="home-overview">Your decentralized hub for token management, staking, analytics, and community
        engagement.<br>
        <span class="text-gray">Connect your wallet to unlock full features.</span>
      </p>
      <button id="onboardingBtnHome" class="btn onboarding-btn" type="button" aria-label="Start onboarding tour">‚ùì Start
        Tour</button>
      <div class="onboarding-info">
        <strong>New here?</strong> <span class="text-gray">Explore the dashboard features, connect your wallet, and join
          the community chat. Use <kbd>Tab</kbd> to navigate.</span>
      </div>
    </div>
    <!-- Quick Stats Card -->
    <div class="card" id="quickStatsCard">
      <h2>üöÄ Quick Stats</h2>
      <div class="info-row"><span class="info-label">Wallet:</span> <span class="info-value" id="quickWallet">-</span>
      </div>
      <div class="info-row"><span class="info-label">AETH Balance:</span> <span class="info-value"
          id="quickAeth">-</span></div>
      <div class="info-row"><span class="info-label">Staked:</span> <span class="info-value" id="quickStaked">-</span>
      </div>
      <div class="info-row"><span class="info-label">Treasury:</span> <span class="info-value"
          id="quickTreasury">-</span></div>
      <div class="info-row"><span class="info-label">Rewards:</span> <span class="info-value" id="quickRewards">-</span>
      </div>
      <div id="quickStatsLoading" class="loading-spinner center-spinner" hidden>
        <svg width="28" height="28" viewBox="0 0 50 50">
          <circle cx="25" cy="25" r="20" fill="none" stroke="#00d4ff" stroke-width="5" stroke-linecap="round"
            stroke-dasharray="31.4 31.4" transform="rotate(-90 25 25)">
            <animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="1s"
              repeatCount="indefinite" />
          </circle>
        </svg>
      </div>
    </div>
    <!-- Loading Spinner -->
    <div id="globalLoading" class="loading global-loading-bg" hidden>
      <div class="global-loading-center">
        <svg width="60" height="60" viewBox="0 0 50 50">
          <circle cx="25" cy="25" r="20" fill="none" stroke="#00d4ff" stroke-width="5" stroke-linecap="round"
            stroke-dasharray="31.4 31.4" transform="rotate(-90 25 25)">
            <animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="1s"
              repeatCount="indefinite" />
          </circle>
        </svg>
        <div class="global-loading-text">Loading...</div>
      </div>
    </div>
    <!-- Header and Wallet Section -->
    <div class="header" aria-label="Aetheron Platform Header">
      <h1 class="logo" tabindex="0">üåå Aetheron Platform</h1>
      <p>Decentralized Token & Staking Platform</p>
      <button id="themeToggleBtn" class="theme-toggle-btn" aria-label="Toggle dark/light mode" type="button">üåô</button>
    </div>
    <div id="walletStatusBar" class="wallet-status-bar status-bar" aria-live="polite">
      <span id="walletStatusIcon">üî¥</span>
      <span id="walletStatusText">Wallet not connected</span>
    </div>
    <div class="wallet-section" aria-label="Wallet Section">
      <button id="connectBtn" type="button" class="connect-btn" aria-label="Connect Wallet">üîó Connect Wallet</button>
      <button type="button" class="btn buy-btn" aria-label="Buy AETH"><i class="fas fa-shopping-cart"></i> Buy
        AETH</button>
      <button type="button" class="btn coinbase-btn" aria-label="Pay with Crypto (Coinbase)">üí≥ Pay with Crypto
        (Coinbase)</button>
      <button id="refreshBalancesBtn" type="button" class="btn refresh-btn" aria-label="Refresh Balances">üîÑ
        Refresh</button>
      <div id="walletInfo" class="wallet-info" aria-live="polite">
        <div class="info-row"><span class="info-label">Wallet Type:</span> <span class="info-value"
            id="walletType">-</span></div>
        <div class="info-row"><span class="info-label">Connected Account:</span> <span class="info-value"
            id="accountAddress">-</span>
          <button id="copyAccountBtn" class="btn-outline copy-account-btn" aria-label="Copy Account Address"
            type="button">üìã</button>
        </div>
        <div class="info-row"><span class="info-label">Network:</span> <span class="info-value" id="networkName">Polygon
            Mainnet</span></div>
        <div class="info-row"><span class="info-label">MATIC Balance:</span> <span class="info-value" id="ethBalance">0
            MATIC</span></div>
        <div class="info-row"><span class="info-label">AETH Balance:</span> <span class="info-value" id="aethBalance">0
            AETH</span></div>
      </div>
    </div>
    <!-- Cards Grid and Features -->
    <div class="cards-grid">
      <div class="card">
        <h2>üí∞ Transfer AETH <span class="help-icon" tabindex="0" aria-label="Help: Transfer AETH"
            title="Send AETH tokens to another wallet. Enter the recipient address and amount, then click Transfer.">‚ùî</span>
        </h2>
        <div class="input-group"><label for="transferTo">Recipient Address: <span class="help-icon" tabindex="0"
              aria-label="Help: Recipient Address"
              title="Paste the wallet address you want to send AETH to.">‚ùî</span></label> <input type="text"
            id="transferTo" placeholder="0x..."></div>
        <div class="input-group">
          <label for="transferAmount">Amount (AETH): <span class="help-icon" tabindex="0" aria-label="Help: Amount"
              title="Enter the number of AETH tokens to transfer.">‚ùî</span></label>
          <input type="number" id="transferAmount" name="transferAmount" title="Amount of AETH to transfer"
            placeholder="Enter amount">
        </div>
        <button class="btn" id="transferBtn" type="button" title="Send AETH to the recipient address">Transfer</button>
        <div class="quick-action-btn live-indicator"><span class="pulse-dot"></span> <span
            id="liveHoldersCount">Loading...</span> Holders</div>
      </div>
    </div>
    <!-- --- BEGIN: New Feature Scaffolding --- -->
    <section id="wallet-portfolio-section" class="card mb-2">
      <h2 class="card-title">Wallet Portfolio Breakdown</h2>
      <canvas id="walletPortfolioChart" width="400" height="200"></canvas>
      <div id="walletPortfolioPlaceholder" class="text-gray">Connect your wallet to view all token balances.</div>
    </section>
    ...existing code...
    <section id="notifications-section" class="card mb-2">
      <h2 class="card-title">Real-Time Notifications</h2>
      <div id="notificationsPlaceholder" class="text-gray" aria-live="polite">Notifications will appear here.</div>
    </section>

    <section id="theme-section" class="card mb-2">
      <h2 class="card-title">Theme Settings</h2>
      <div>
        <label for="themeToggleSwitch">Auto-switch theme based on system:</label>
        <input type="checkbox" id="themeToggleSwitch"> <span id="themeStatus">Auto</span>
      </div>
    </section>

    <section id="staking-history-section" class="card mb-2">
      <h2 class="card-title">Staking History & Analytics</h2>
      <div id="stakingHistorySpinner" class="spinner center-spinner" hidden aria-label="Loading Staking History"
        title="Loading staking history..."></div>
      <div id="stakingHistoryPlaceholder" aria-live="polite"></div>
      <canvas id="stakingHistoryChart" width="400" height="200"></canvas>
      <table id="stakingHistoryTable" class="w-full">
        <thead>
          <tr>
            <th>Date</th>
            <th>Action</th>
            <th>Amount</th>
            <th>APY</th>
            <th>Rewards</th>
          </tr>
        </thead>

<body>
  <canvas id="starfield"></canvas>
  <script>
    // Starfield animation
    const canvas = document.getElementById('starfield');
    const ctx = canvas.getContext('2d');
    let stars = [];
    const starCount = 120;
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    function createStars() {
      stars = [];
      for (let i = 0; i < starCount; i++) {
        stars.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          r: 1 + Math.random() * 2,
          speed: 0.2 + Math.random() * 0.5
        });
      }
    }
    createStars();
    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let star of stars) {
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.r, 0, 2 * Math.PI);
        ctx.fillStyle = 'white';
        ctx.globalAlpha = 0.7;
        ctx.fill();
        ctx.globalAlpha = 1;
        star.y += star.speed;
        if (star.y > canvas.height) {
          star.x = Math.random() * canvas.width;
          star.y = 0;
          star.r = 1 + Math.random() * 2;
          star.speed = 0.2 + Math.random() * 0.5;
        }
      }
      requestAnimationFrame(animate);
    }
    animate();
  </script>
  ...existing code...
</body>
</tr>
</tbody>
</table>
</section>

<section id="community-chat-section" class="card mb-2">
  <h2 class="card-title">Community Chat</h2>
  <div id="communityChatWidget" class="text-gray">Chat widget will load here.</div>
</section>

<section id="nft-gallery-section" class="card mb-2">
  <h2 class="card-title">NFT Gallery</h2>
  <div id="nftGalleryPlaceholder" class="text-gray" aria-live="polite">Connect your wallet to view your Aetheron
    NFTs.</div>
</section>

<section id="gas-fee-section" class="card mb-2">
  <h2 class="card-title">Gas Fee Estimator</h2>
  <div>
    <label for="gasSpeedSelect">Speed:</label>
    <select id="gasSpeedSelect">
      <option value="fast">Fast</option>
      <option value="average" selected>Average</option>
      <option value="slow">Slow</option>
    </select>
    <span id="gasFeeEstimate" class="text-gray">Estimated gas fee: --</span>
  </div>
</section>

<section id="referral-leaderboard-section" class="card mb-2">
  <h2 class="card-title">Referral Leaderboard <span class="help-icon" tabindex="0"
      aria-label="Help: Referral Leaderboard" title="See the top referrers and your referral link.">‚ùî</span></h2>
  <div id="referralLeaderboardPlaceholder" class="text-gray" aria-live="polite">Leaderboard will appear here.</div>
  <div id="referralLinkSection">
    <label for="referralLink">Your Referral Link: <span class="help-icon" tabindex="0" aria-label="Help: Referral Link"
        title="Share this link to invite others and earn rewards.">‚ùî</span></label>
    <input type="text" id="referralLink" readonly value="https://aetheron.online/?ref=YOURADDRESS"
      title="Your referral link" placeholder="Referral link">
    <button class="btn btn-outline" id="copyReferralBtn" type="button"
      title="Copy your referral link to clipboard">Copy</button>
  </div>
</section>

<section id="language-section" class="card mb-2">
  <h2 class="card-title">Language</h2>
  <label for="languageSelect" class="sr-only">Select language</label>
  <select id="languageSelect" title="Select language">
    <option value="en" selected>English</option>
    <option value="es">Espa√±ol</option>
    <option value="fr">Fran√ßais</option>
    <option value="de">Deutsch</option>
    <!-- Add more languages as needed -->
  </select>
  <span id="currentLanguage" class="text-gray">Current: English</span>
</section>

<section id="advanced-analytics-section" class="card mb-2">
  <h2 class="card-title">Advanced Analytics</h2>
  <canvas id="advancedAnalyticsChart" width="400" height="200"></canvas>
  <div id="advancedAnalyticsPlaceholder" class="text-gray" aria-live="polite">More charts and analytics coming soon.
  </div>
</section>
<!-- --- END: New Feature Scaffolding --- -->
<div class="card" aria-label="Stake AETH Section">
  <h2>üéØ Stake AETH <span class="help-icon" tabindex="0" aria-label="Help: Stake AETH"
      title="Stake your AETH tokens in different pools to earn rewards.">‚ùî</span></h2>
  <div id="stakeSpinner" class="spinner center-spinner" hidden aria-label="Loading Stake" title="Processing stake...">
  </div>
  <form aria-label="Stake Form" onsubmit="return false;">
    <div class="input-group">
      <label for="poolId">Pool ID: <span class="help-icon" tabindex="0" aria-label="Help: Pool ID"
          title="Choose 0 for Short, 1 for Medium, 2 for Long term staking.">‚ùî</span></label>
      <input type="number" id="poolId" placeholder="0, 1, or 2" value="0" aria-label="Pool ID">
    </div>
    <div class="input-group">
      <label for="stakeAmount">Amount (AETH): <span class="help-icon" tabindex="0" aria-label="Help: Stake Amount"
          title="Enter the amount of AETH you want to stake.">‚ùî</span></label>
      <input type="number" id="stakeAmount" placeholder="1000" aria-label="Amount to Stake">
    </div>
    <button id="stakeBtn" type="submit" class="btn" aria-label="Stake AETH"
      title="Stake your AETH tokens">Stake</button>
  </form>
  <div id="stakeStatus" class="status-message" aria-live="polite"></div>
  <div class="pools-list" aria-label="Staking Pools">
    <div class="pool-item" aria-label="Short Term Pool">
      <h3>Pool 0: Short Term</h3>
      <div class="pool-details"><span>Lock: 30 days</span> <span>APY: 5%</span></div>
    </div>
    <div class="pool-item" aria-label="Medium Term Pool">
      <h3>Pool 1: Medium Term</h3>
      <div class="pool-details"><span>Lock: 90 days</span> <span>APY: 12%</span></div>
    </div>
    <div class="pool-item" aria-label="Long Term Pool">
      <h3>Pool 2: Long Term</h3>
      <div class="pool-details"><span>Lock: 180 days</span> <span>APY: 25%</span></div>
    </div>
  </div>
  <div id="transferStatus" class="status-message"></div>
</div>
<div class="card" aria-label="Contract Information">
  <h2>üìä Contract Information</h2>
  <div class="info-row">
    <span class="info-label">AETH Token Address:</span>
    <span class="info-value font-08" aria-label="AETH Token Address"
      tabindex="0">0x072091F554df794852E0A9d1c809F2B2bBda171E</span>
    <button class="btn-outline" aria-label="Copy AETH Token Address" type="button"
      onclick="navigator.clipboard.writeText('0x072091F554df794852E0A9d1c809F2B2bBda171E')">Copy</button>
  </div>
  <div class="info-row">
    <span class="info-label">Staking Contract Address:</span>
    <span class="info-value font-08" aria-label="Staking Contract Address"
      tabindex="0">0x896D9d37A67B0bBf81dde0005975DA7850FFa638</span>
    <button class="btn-outline" aria-label="Copy Staking Contract Address" type="button"
      onclick="navigator.clipboard.writeText('0x896D9d37A67B0bBf81dde0005975DA7850FFa638')">Copy</button>
  </div>
  <div class="info-row">
    <span class="info-label">Network:</span>
    <span class="info-value" aria-label="Network Name" tabindex="0">Polygon Mainnet</span>
  </div>
  <div class="info-row">
    <span class="info-label">Chain ID:</span>
    <span class="info-value" aria-label="Chain ID" tabindex="0">137</span>
  </div>
  <div class="info-row">
    <span class="info-label">Explorer:</span>
    <span class="info-value"><a href="https://polygonscan.com/token/0x072091F554df794852E0A9d1c809F2B2bBda171E"
        target="_blank" rel="noopener noreferrer" aria-label="View AETH Token on PolygonScan">View AETH Token on
        PolygonScan</a></span>
  </div>
</div>
<div class="card payment-history-card">
  <h2 class="payment-history-title">Payment History</h2>
  <div class="payment-history-table-wrap">
    <table class="payment-history-table">
      <thead>
        <tr class="payment-history-header-row">
          <th>Date</th>
          <th>Amount</th>
          <th>Status</th>
          <th>Receipt</th>
          <th>Gateway</th>
        </tr>
      </thead>
      <tbody id="paymentHistoryTableBody">
        <tr>
          <td colspan="5">Loading...</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<!-- Analytics/Engagement Chart Card -->
<div class="card" id="analyticsCard">
  <h2>üìà Engagement Analytics</h2>
  <div id="analyticsSpinner" class="spinner center-spinner" hidden aria-label="Loading Analytics"
    title="Loading analytics data..."></div>
  <canvas id="engagementChart" class="chart-canvas"></canvas>
</div>
<!-- Removed duplicate chart canvases for price, volume, TVL, and staking -->
<div class="card" id="treasuryCard">
  <h2>üíº Treasury & Revenue</h2>
  <div class="info-row">
    <span class="info-label">Total Treasury:</span>
    <span class="info-value" id="treasuryTotal">- AETH</span>
  </div>
  <div class="info-row">
    <span class="info-label">Staking Rewards:</span>
    <span class="info-value" id="stakingRewards">- AETH</span>
  </div>
  <div class="info-row">
    <span class="info-label">Protocol Fees:</span>
    <span class="info-value" id="protocolFees">- MATIC</span>
  </div>
  <button class="btn" id="refreshTreasuryBtn" type="button">Refresh Treasury</button>
</div>
<div class="card">
  <h2>üìä Treasury & Revenue Chart</h2>
  <canvas id="treasuryChart" class="chart-canvas"></canvas>
</div>
<!-- User Profile Section -->
<div class="card" id="userProfileCard">
  <h2>üë§ User Profile</h2>
  <div class="profile-flex">
    <div id="profileAvatar" class="profile-avatar" tabindex="0" aria-label="Profile Avatar">üßë</div>
    <div>
      <div id="profileName" class="profile-name">Guest</div>
      <div id="profileEmail" class="profile-email">Not signed in</div>
      <div id="profileLinks" class="profile-links"></div>
    </div>
  </div>
  <button id="editProfileBtn" class="btn" type="button">Edit Profile</button>
  <!-- Profile Edit Modal -->
  <div id="profileModal" class="modal-bg" hidden>
    <div class="modal">
      <button type="button" class="close-modal-btn" aria-label="Close Profile Modal">&times;</button>
      <h3>Edit Profile</h3>
      <form id="profileForm">
        <label for="avatarInput">Avatar Emoji</label>
        <input id="avatarInput" maxlength="2" placeholder="üßë" />
        <label for="nicknameInput">Nickname</label>
        <input id="nicknameInput" maxlength="24" placeholder="Your nickname" />
        <label for="emailInput">Email (optional)</label>
        <input id="emailInput" type="email" placeholder="you@email.com" />
        <label for="twitterInput">Twitter</label>
        <input id="twitterInput" placeholder="@yourhandle" />
        <label for="discordInput">Discord</label>
        <input id="discordInput" placeholder="your#1234" />
        <div class="modal-actions">
          <button type="submit" class="btn">Save</button>
          <button type="button" id="closeProfileModal" class="btn-outline">Cancel</button>
        </div>
      </form>
    </div>
  </div>
  <script>
    // Profile modal close button logic
    document.addEventListener('DOMContentLoaded', function () {
      var modal = document.getElementById('profileModal');
      var closeBtn = modal?.querySelector('.close-modal-btn');
      if (closeBtn) {
        closeBtn.addEventListener('click', function () {
          modal.hidden = true;
        });
      }
    });
  </script>
</div>
<!-- Onboarding Tour Button -->
<button id="onboardingBtn" class="btn onboarding-btn" type="button">‚ùì Tour</button>
<!-- Payment Status Modal -->
<div id="paymentStatusModal" class="payment-status-modal-bg">
  <div class="payment-status-modal">
    <div id="paymentStatusIcon" class="payment-status-icon">üí∏</div>
    <div id="paymentStatusText" class="payment-status-text">Processing payment...</div>
    <button class="btn-outline payment-status-close-btn" type="button">Close</button>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js" defer></script>
<script src="dashboard-main.js?v=1.3.1" defer></script>
<script>
  // Quick Stats Card live update logic
  function updateQuickStats() {
    // Try to get wallet/account info from existing DOM
    const account = document.getElementById('accountAddress')?.textContent?.trim() || '-';
    const aeth = document.getElementById('aethBalance')?.textContent?.trim() || '-';
    const staked = document.getElementById('stakingHistoryTable')?.querySelector('tbody tr:not(.text-gray) td:nth-child(3)')?.textContent?.trim() || '0';
    const treasury = document.getElementById('treasuryTotal')?.textContent?.trim() || '-';
    const rewards = document.getElementById('stakingRewards')?.textContent?.trim() || '-';
    document.getElementById('quickWallet').textContent = account;
    document.getElementById('quickAeth').textContent = aeth;
    document.getElementById('quickStaked').textContent = staked;
    document.getElementById('quickTreasury').textContent = treasury;
    document.getElementById('quickRewards').textContent = rewards;
  }
  document.addEventListener('DOMContentLoaded', function () {
    updateQuickStats();
    // Also update on wallet or treasury refresh
    document.getElementById('refreshBalancesBtn')?.addEventListener('click', () => setTimeout(updateQuickStats, 1000));
    document.getElementById('refreshTreasuryBtn')?.addEventListener('click', () => setTimeout(updateQuickStats, 1000));
  });
</script>
<script src="global-announcements.js?v=1.3.1" defer></script>
<script src="coinbase-commerce-frontend.js?v=1.3.1" defer></script>
<script src="payment-history.js?v=1.3.1" defer></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
<script src="dashboard-features.js?v=1.3.1" defer></script>
<!-- Language Selector -->
<!-- Removed duplicate language selector to avoid multiple elements with the same ID -->
<!-- Localization/i18n -->
<!-- Accessibility: ARIA landmarks and improved focus -->
<main id="mainContent" tabindex="-1" aria-label="Dashboard main content" role="main">
  <!-- Whitepaper Section with Interactive Features -->
  <section class="card whitepaper-card" id="whitepaperCard">
    <div class="whitepaper-header">
      <h2 class="card-title">Aetheron Platform Technical Whitepaper</h2>
      <button class="btn-outline" id="toggleWhitepaperBtn" type="button" aria-expanded="true">Collapse</button>
    </div>
    <nav class="whitepaper-nav">
      <button class="btn-outline" type="button" onclick="showWhitepaperSection('summary')">Executive
        Summary</button>
      <button class="btn-outline" type="button" onclick="showWhitepaperSection('tokenomics')">Tokenomics</button>
      <button class="btn-outline" type="button" onclick="showWhitepaperSection('staking')">Staking</button>
      <button class="btn-outline" type="button" onclick="showWhitepaperSection('security')">Security</button>
      <button class="btn-outline" type="button" onclick="showWhitepaperSection('roadmap')">Roadmap</button>
      <button class="btn whitepaper-download-btn" type="button" onclick="window.open('WHITEPAPER.md','_blank')">Download
        Full
        Whitepaper</button>
    </nav>
    <div class="whitepaper-content" id="whitepaperContent">
      <!-- Default section: Executive Summary -->
      <div id="whitepaper-summary">
        <h3>Technical Whitepaper v1.0</h3>
        <p><strong>February 2026</strong></p>
        <p><em>Building the Future of Decentralized Finance</em></p>
        <hr>
        <h4>Executive Summary</h4>
        <p>Aetheron Platform is a next-generation decentralized finance (DeFi) ecosystem built on Polygon that
          combines high-yield staking, efficient token trading, and advanced analytics into a unified, user-friendly
          platform. Our mission is to democratize access to DeFi yield opportunities while maintaining the highest
          standards of security, transparency, and user experience.</p>
        <ul>
          <li><strong>Native Token:</strong> AETH (ERC-20) on Polygon Mainnet</li>
          <li><strong>Total Supply:</strong> 1,000,000,000 AETH</li>
          <li><strong>Staking Pools:</strong> Three tiers (8%, 12%, 18% APY)</li>
          <li><strong>Network:</strong> Polygon (Layer 2 solution for Ethereum)</li>
          <li><strong>Smart Contracts:</strong> Verified on Polygonscan</li>
          <li><strong>Liquidity:</strong> QuickSwap V2 Integration</li>
        </ul>
        <hr>
        <p class="whitepaper-details-text">For full details, <a href="WHITEPAPER.md" target="_blank"
            rel="noopener">download the complete whitepaper</a>.</p>
      </div>
      <div id="whitepaper-tokenomics" class="whitepaper-section-hidden">
        <h4>Tokenomics</h4>
        <ul>
          <li>Total Supply: 1,000,000,000 AETH</li>
          <li>Initial Distribution: 50% Liquidity, 20% Team, 15% Marketing, 15% Staking Rewards</li>
          <li>Deflationary Mechanisms: Buy/Sell Tax, Burn Events</li>
          <li>Liquidity Pool: QuickSwap V2</li>
        </ul>
      </div>
      <div id="whitepaper-staking" class="whitepaper-section-hidden">
        <h4>Staking Mechanics</h4>
        <ul>
          <li>Three Pools: 8%, 12%, 18% APY</li>
          <li>Flexible Lock Periods</li>
          <li>Rewards Distributed in AETH</li>
          <li>Smart Contract Controlled</li>
        </ul>
      </div>
      <div id="whitepaper-security" class="whitepaper-section-hidden">
        <h4>Security & Auditing</h4>
        <ul>
          <li>OpenZeppelin Contracts</li>
          <li>Slither Static Analysis</li>
          <li>External Audit Complete</li>
          <li>Bug Bounty Program</li>
        </ul>
      </div>
      <div id="whitepaper-roadmap" class="whitepaper-section-hidden">
        <h4>Roadmap</h4>
        <ul>
          <li>Q1 2026: Launch, Staking Pools, Analytics</li>
          <li>Q2 2026: DEX Integration, Governance</li>
          <li>Q3 2026: Mobile App, Partnerships</li>
          <li>Q4 2026: Expansion, New Pools</li>
        </ul>
      </div>
    </div>
  </section>
  <script>
    // Expand/Collapse
    document.getElementById('toggleWhitepaperBtn').addEventListener('click', function () {
      const content = document.getElementById('whitepaperContent');
      const expanded = this.getAttribute('aria-expanded') === 'true';
      if (expanded) {
        content.style.display = 'none';
        this.textContent = 'Expand';
        this.setAttribute('aria-expanded', 'false');
      } else {
        content.style.display = '';
        this.textContent = 'Collapse';
        this.setAttribute('aria-expanded', 'true');
      }
    });
    // Section Navigation
    window.showWhitepaperSection = function (section) {
      const sections = ['summary', 'tokenomics', 'staking', 'security', 'roadmap'];
      sections.forEach(s => {
        document.getElementById('whitepaper-' + s).style.display = (s === section) ? '' : 'none';
      });
    };
  </script>
  <!-- Existing content for the main dashboard -->
  <section class="wallet-social-wrap" aria-label="Wallet and Social Login Options">
    <button id="walletConnectBtn" class="connect-btn walletconnect-btn" type="button" aria-label="WalletConnect">üîó
      WalletConnect</button>
    <button id="googleLoginBtn" class="connect-btn google-btn" type="button" aria-label="Sign in with Google">G
      <span class="google-btn-text">oogle</span></button>
  </section>
  <!-- Sticky mobile bottom navigation -->
  <nav class="mobile-bottom-nav" id="mobileBottomNav">
    <a href="#quickStatsCard" aria-label="Quick Stats"><i class="fas fa-tachometer-alt"></i><span>Stats</span></a>
    <a href="#staking-history-section" aria-label="Staking"><i class="fas fa-coins"></i><span>Staking</span></a>
    <a href="#advanced-analytics-section" aria-label="Analytics"><i
        class="fas fa-chart-line"></i><span>Analytics</span></a>
    <a href="#community-chat-section" aria-label="Chat"><i class="fas fa-comments"></i><span>Chat</span></a>
    <a href="#wallet-portfolio-section" aria-label="Portfolio"><i class="fas fa-wallet"></i><span>Portfolio</span></a>
  </nav>
</main>
<script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js" defer></script>
<script src="https://accounts.google.com/gsi/client" async defer></script>
<script src="dashboard-wallet.js?v=1.3.1" defer></script>
<script src="dashboard-accessibility.js?v=1.3.1" defer></script>
<!-- Onboarding Tour Disabled - CSP Compliance -->
<!-- New Features Scripts -->
<script src="dashboard-treasury-chart.js?v=1.3.1" defer></script>
<script src="dashboard-starfield.js?v=1.3.1" defer></script>
</body>

</html>